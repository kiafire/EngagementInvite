<!DOCTYPE html>
<html>
<head>
    <title>Welcome to Iftiqar's Engagement</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.3.2/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs>
        <!-- Bismillah Text -->
        <a-text 
            id="bismillah" 
            value="بِسْمِ اللهِ الرَّحْمٰنِ الرَّحِيْمِ" 
            position="0 1.5 -2" 
            scale="3 3 3" 
            color="#0000FF"
            visible="false"
            animation="property: visible; to: true; dur: 1000; startEvents: showBismillah"
        ></a-text>
        <!-- Line 1 Text -->
        <a-text 
            id="line1" 
            value="Welcome to Iftiqar & Iram 's Engagement Ceremony" 
            position="0 1 -2" 
            scale="3 3 3" 
            color="#FF0000"
            visible="false"
            animation="property: visible; to: true; dur: 1000; startEvents: showLine1"
        ></a-text>
        <!-- Line 2 Text -->
        <a-text 
            id="line2" 
            value="بَارَكَ اللهُ لَكَ وَبَارَكَ عَلَيْكَ وَجَمَعَ بَيْنَكُمَا فِي خَيْرٍ" 
            position="0 0.5 -2" 
            scale="2 2 2" 
            color="#0000FF"
            visible="false"
            animation="property: visible; to: true; dur: 1000; startEvents: showLine2"
        ></a-text>
        <!-- Line 3 Text -->
        <a-text 
            id="line3" 
            value="May Allah bless you and shower His blessings on you and Allah unite you both in goodness." 
            position="0 0 -2" 
            scale="2 2 2" 
            color="#00FF00"
            visible="false"
            animation="property: visible; to: true; dur: 1000; startEvents: showLine3"
        ></a-text>
        
        <!-- Animation Controller -->
        <a-entity 
            id="animationController"
            visible="false"
            animation__0="startEvents: sceneLoaded; delay: 0; dir: normal; dur: 1000; property: visible; to: true; easing: easeInSine; loop: false; startEvents: showBismillah; pauseEvents: pauseAnimation; resumeEvents: resumeAnimation"
            animation__1="startEvents: showBismillah; delay: 2000; dir: normal; dur: 1000; property: visible; to: true; easing: easeInSine; loop: false; startEvents: showLine1; pauseEvents: pauseAnimation; resumeEvents: resumeAnimation"
            animation__2="startEvents: showLine1; delay: 2000; dir: normal; dur: 1000; property: visible; to: true; easing: easeInSine; loop: false; startEvents: showLine2; pauseEvents: pauseAnimation; resumeEvents: resumeAnimation"
            animation__3="startEvents: showLine2; delay: 2000; dir: normal; dur: 1000; property: visible; to: true; easing: easeInSine; loop: false; startEvents: showLine3; pauseEvents: pauseAnimation; resumeEvents: resumeAnimation"
        ></a-entity>

        <!-- Audio Entities -->
        <a-entity id="audioBismillah" sound="src: url(audio/bismillah.mp3); autoplay: false;"></a-entity>
        <a-entity id="audioLine2" sound="src: url(audio/line2.mp3); autoplay: false;"></a-entity>
        <a-entity id="audioLine3" sound="src: url(audio/line3.mp3); autoplay: false;"></a-entity>
    </a-scene>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const animationController = document.querySelector('#animationController');
            animationController.emit('sceneLoaded');

            const audioBismillah = document.querySelector('#audioBismillah');
            const audioLine2 = document.querySelector('#audioLine2');
            const audioLine3 = document.querySelector('#audioLine3');

            document.querySelector('#bismillah').addEventListener('animationcomplete', function () {
                audioBismillah.components.sound.playSound();
            });

            document.querySelector('#line2').addEventListener('animationcomplete', function () {
                audioLine2.components.sound.playSound();
            });

            document.querySelector('#line3').addEventListener('animationcomplete', function () {
                audioLine3.components.sound.playSound();
            });
        });
    </script>
</body>
</html>
